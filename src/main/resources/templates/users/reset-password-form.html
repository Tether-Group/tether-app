<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8" name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Reset Password</title>
    <th:block th:insert="~{partials/styles :: styles}"></th:block>
</head>
<body>

<div>
    <h2>Reset Your Password</h2>
</div>

<form th:action="@{/reset_password}" method="post" style="max-width: 350px; margin: 0 auto;">
    <input type="hidden" name="token" th:value="${token}"/>
    <div class="border border-secondary rounded p-3">
        <div>
            <p>
                You will be redirected to the Login upon successful password change!
            </p>
            <p>
                <input type="password" name="password" id="password" class="form-control"
                       placeholder="Enter your new password" required autofocus>
            </p>
            <p>
                <input type="password" class="form-control" id="password2" placeholder="Confirm your new password">
<!--                       required oninput="checkPasswordMatch(this);"/>-->
            </p>
            <p class="text-center">
                <input type="submit" id="submit-pw" value="Change Password" class="btn btn-primary">
            </p>
        </div>

        <!--https://www.w3schools.com/howto/howto_js_password_validation.asp-->
        <div id="message2">
            <h5>Password must contain the following:</h5>
            <p id="lowercase" class="invalid">One <strong>lowercase</strong> letter</p>
            <p id="uppercase" class="invalid">One <strong>capital (uppercase)</strong> letter</p>
            <p id="number" class="invalid">One <strong>number</strong></p>
            <p id="special" class="invalid">One <strong>special </strong>character</p>
            <p id="length" class="invalid">Minimum <strong>8 characters</strong>, Maximum <strong>20
                characters</strong></p>
            <p id="empty" class="invalid">No <strong>spaces</strong></p>
            <p id="password-match" class="invalid">Password must match</p>
        </div>

    </div>
</form>

<th:block th:insert="~{partials/footer :: footer}"></th:block>
<script th:src="@{/js/reset_password.js}"></script>
<!--<script>-->
<!--    function checkPasswordMatch(fieldConfirmPassword) {-->
<!--        if (fieldConfirmPassword.value != $("#password").val()) {-->
<!--            fieldConfirmPassword.setCustomValidity("Passwords do not match!");-->
<!--        } else {-->
<!--            fieldConfirmPassword.setCustomValidity("");-->
<!--        }-->
<!--    }-->
<!--</script>-->
</body>
</html>